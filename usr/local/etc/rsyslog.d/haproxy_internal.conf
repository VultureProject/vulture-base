#This file is part of Vulture OS.
#

########################## WARNING ###############################
# Don't edit this file, it is automatically generated by Vulture #
########################## WARNING ###############################

template(name="Haproxy_FileFormat" type="list") {
     property(name="timereported" dateFormat="rfc3339")
     constant(value=" ")
     property(name="hostname")
     constant(value=" ")
     property(name="syslogtag")
     property(name="msg" spifno1stsp="on")
     property(name="msg" droplastlf="on")
     constant(value="\n")
}

input(type="imuxsock"
      Socket="/var/sockets/rsyslog/haproxy_internal.sock"
      CreatePath="on"
      RuleSet="ruleset_haproxy")

ruleset(name="ruleset_haproxy") {

    # Output to asked file
    action(type="omfile"
           name="Internal_Haproxy"
           file="/var/log/haproxy/internal.log"
           flushInterval="5"
           asyncWriting="on"
           CreateDirs="on"
           Template="HAPROXY_FileFormat"
           dirCreateMode="0700"
           FileCreateMode="0644")

}
